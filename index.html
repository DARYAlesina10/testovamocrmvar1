<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>tests form to amocrm</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
 <!-- Bootstrap core CSS -->
<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">



    
    <!-- Custom styles for this template -->
    <link href="signin.css" rel="stylesheet">
  </head>
  <body class="text-center">
    
<main class="form-signin">
  <form action="#" >
   
    <h1 class="h3 mb-3 fw-normal">Заполни форму :)</h1>
 <div class="form-floating">
      <input type="text" class="form-control" id="floatingname" placeholder="Имя">
      <label for="floatingname">Имя</label>
    </div>
    <div class="form-floating">
      <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
      <label for="floatingInput">Email</label>
    </div>
   <div class="form-floating">
      <input type="phone" class="form-control" id="floatingphone" placeholder="Телефон">
      <label for="floatingphone">Телефон</label>
    </div>
	 <div class="form-floating">
      <input type="phone" class="form-control" id="floatingprice" placeholder="Цена">
      <label for="floatingprice">Цена</label>
    </div>
   <p class="mt-5 mb-3 text-muted" id="message"></p>
 
    <button class="w-100 btn btn-lg btn-primary" type="submit" id="zakaz">Отправить</button>
    
  </form>
</main>

<script type="text/javascript">
 
 
 $("#zakaz").click(function(e){
	
	regname=document.getElementById('floatingname').value;
	reginput=document.getElementById('floatingInput').value;
	regphone=document.getElementById('floatingphone').value;
	regprice=document.getElementById('floatingprice').value;
	
	$.ajax({
		url:"/zakaz.php",
		
		type: "POST",
		data: {
		
		
		name:regname,
		email:reginput,
		phone:regphone,
		price:regprice
		},
		
		
		success:function(result){
alert("Заказ ушел!");

			}
			
			
}); 
e.preventDefault();
});	
 
 
 
 
 
 
 
 
function ValidMail() {
    var re = /^[\w-\.]+@[\w-]+\.[a-z]{2,4}$/i;
    var myMail = document.getElementById('floatingInput').value;
    var valid = re.test(myMail);
    if (valid) output = 'Адрес эл. почты введен правильно!';
    else output = 'Адрес электронной почты введен неправильно!';
    document.getElementById('message').innerHTML = output;
    return valid;
}
 
function ValidPhone() {
    var re = /^[\d\+][\d\(\)\ -]{4,14}\d$/;
    var myPhone = document.getElementById('floatingphone').value;
    var valid = re.test(myPhone);
    if (valid) output = 'Номер телефона введен правильно!';
    else output = 'Номер телефона введен неправильно!';
    document.getElementById('message').innerHTML = document.getElementById('message').innerHTML+'<br />'+output;
    return valid;
}  
 
</script>
    
  </body>
</html>
